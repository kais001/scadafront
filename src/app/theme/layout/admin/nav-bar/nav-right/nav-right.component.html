<ul class="navbar-nav">
  <li>
    <div class="dropdown drp-user" ngbDropdown placement="auto">
      <a href="javascript:" ngbDropdownToggle data-toggle="dropdown">
        <i class="icon feather icon-settings"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-end profile-notification" ngbDropdownMenu>
        <div class="pro-head">
          <img src="assets/images/user/avatar-1.jpg" class="img-radius" alt="User-Profile-Image" />
          <span>{{ userName }}</span>  <!-- Affiche le nom de l'utilisateur -->
          <a href="/auth/signin" class="dud-logout" title="Logout">
                        <i class="feather icon-log-out"></i>
          </a>
        </div>
        <ul class="pro-body">
          <li>
            <a href="javascript:" class="dropdown-item" (click)="openModal()"> <!-- Ouvre la modal pour modifier le profil -->
              <i class="feather icon-user"></i>
              Profile
            </a>
          </li>
        </ul>
      </div>
    </div>
  </li>
</ul>

<!-- Modal -->
<div *ngIf="showModal" class="modal">
  <div class="modal-content">
    <h2>Editer l'utilisateur</h2>
    <form (ngSubmit)="updateUser()">
      <div>
        <label for="email">Email</label>
        <input type="email" id="email" class="form-control" [(ngModel)]="selectedUser.email" name="email" required>
      </div>
      <div>
        <label for="prenom">Prénom</label>
        <input type="text" id="prenom" class="form-control" [(ngModel)]="selectedUser.prenom" name="prenom" required>
      </div>
      <div>
        <label for="nom">Nom</label>
        <input type="text" id="nom" class="form-control" [(ngModel)]="selectedUser.nom" name="nom" required>
      </div>
      <div>
        <label for="telephone">Téléphone</label>
        <input type="text" id="telephone" class="form-control" [(ngModel)]="selectedUser.telephone" name="telephone" required>
      </div>
      <div>
        <label for="role">Rôle</label>
        <select id="role" class="form-control" [(ngModel)]="selectedUser.role" name="role" required>
          <option value="ADMIN">ADMIN</option>
          <option value="OPERATEUR">OPERATEUR</option>
        </select>
      </div>
      <div>
        <label for="password">Mot de passe</label>
        <input type="password" id="password" class="form-control" [(ngModel)]="selectedUser.password" name="password" required>
      </div>
      <div class="modal-actions">
        <button type="submit" class="btn btn-primary">Enregistrer les modifications</button>
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Fermer</button>
      </div>
    </form>
  </div>
</div>
